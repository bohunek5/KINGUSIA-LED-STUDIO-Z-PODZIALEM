<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kingusia LED Studio â€” Projektuj oÅ›wietlenie</title>
    <meta name="description"
        content="Interaktywne studio projektowania oÅ›wietlenia LED z podziaÅ‚em na pomieszczenia i AI asystentem Ollama." />
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’¡</text></svg>" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <header id="app-header">
        <a class="logo-wrap" href="#">
            <div class="logo-icon">ğŸ’¡</div>
            <span class="logo-text">KINGUSIA <span>LED</span> STUDIO</span>
        </a>

        <div class="header-divider"></div>

        <div class="header-status">
            <div class="status-dot" id="status-dot"></div>
            <span id="status-label">Sprawdzam Ollamaâ€¦</span>
        </div>

        <button class="header-btn" id="add-room-header-btn">
            â• Dodaj pomieszczenie
        </button>

        <button class="header-btn" id="export-btn">
            ğŸ“„ Eksport wyceny
        </button>
    </header>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SIDEBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <aside id="sidebar">
        <div class="sidebar-head">
            <span class="sidebar-title">ğŸ  Pomieszczenia</span>
            <button id="add-room-btn" title="Dodaj pomieszczenie">+</button>
        </div>

        <div id="rooms-list"></div>

        <div class="sidebar-footer">
            <div class="sidebar-total">
                <span>Szacunkowy koszt:</span>
                <strong id="sidebar-total">0,00 zÅ‚</strong>
            </div>
        </div>
    </aside>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <main id="main">
        <div class="main-scroll" id="main-content">
            <!-- Renderowane przez app.js -->
        </div>

        <div class="summary-bar">
            <div class="summary-item">
                <span class="s-label">PomieszczeÅ„</span>
                <span class="s-val" id="sum-rooms">0</span>
            </div>
            <div class="summary-divider"></div>
            <div class="summary-item">
                <span class="s-label">ÅÄ…czna dÅ‚ugoÅ›Ä‡</span>
                <span class="s-val" id="sum-length">0 m</span>
            </div>
            <div class="summary-divider"></div>
            <div class="summary-item">
                <span class="s-label">ÅÄ…czna moc</span>
                <span class="s-val" id="sum-power">0 W</span>
            </div>
            <div class="summary-divider"></div>
            <div class="summary-item">
                <span class="s-label">Koszt caÅ‚kowity</span>
                <span class="s-val" id="sum-cost" style="color:var(--orange)">0 zÅ‚</span>
            </div>
        </div>
    </main>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <aside id="chat-panel">

        <div class="chat-head">
            <div class="chat-avatar">âœ¨</div>
            <div class="chat-title-wrap">
                <div class="chat-name">Kingusia AI</div>
                <div class="chat-subtitle">Doradca oÅ›wietlenia LED</div>
            </div>
            <div class="chat-model-badge" id="model-badge">Å‚adowanieâ€¦</div>
        </div>

        <div id="ollama-offline-banner">
            âš ï¸ Ollama offline â€” uruchom: <code
                style="margin-left:6px;background:rgba(0,0,0,.3);padding:1px 6px;border-radius:4px">ollama serve</code>
        </div>

        <div id="chat-messages">
            <div class="chat-msg ai">
                <div class="msg-avatar">âœ¨</div>
                <div class="msg-bubble">
                    CzeÅ›Ä‡! Jestem Kingusia â€” TwÃ³j doradca oÅ›wietlenia LED. ğŸŒŸ<br /><br />
                    Powiedz mi dla jakiego pomieszczenia projektujesz oÅ›wietlenie, a pomogÄ™ dobraÄ‡ odpowiedniÄ… taÅ›mÄ™
                    LED, profil i zasilacz!
                </div>
            </div>
        </div>

        <div class="quick-prompts">
            <button class="qp-btn" onclick="sendQuickPrompt('Jaka temperatura barwowa do salonu?')">ğŸ›‹ï¸ Salon</button>
            <button class="qp-btn" onclick="sendQuickPrompt('JakÄ… taÅ›mÄ™ wybraÄ‡ do Å‚azienki? Jaki stopieÅ„ IP?')">ğŸ›
                Åazienka</button>
            <button class="qp-btn" onclick="sendQuickPrompt('Jak obliczyÄ‡ moc zasilacza do taÅ›my LED?')">âš¡
                Zasilacz</button>
            <button class="qp-btn" onclick="sendQuickPrompt('RÃ³Å¼nica miÄ™dzy COB a SMD LED?')">ğŸ’¡ COB vs SMD</button>
            <button class="qp-btn" onclick="sendQuickPrompt('ZrÃ³b podsumowanie mojego projektu')">ğŸ“‹
                Podsumowanie</button>
        </div>

        <div class="chat-input-wrap">
            <textarea id="chat-input" rows="1" placeholder="Zapytaj o oÅ›wietlenieâ€¦"></textarea>
            <button id="chat-send" title="WyÅ›lij (Enter)">â¤</button>
        </div>
    </aside>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODAL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal" role="dialog" aria-label="Dodaj pomieszczenie">
            <div class="modal-title">ğŸ  Dodaj pomieszczenie</div>

            <div class="modal-field">
                <label class="modal-label">Typ pomieszczenia</label>
                <div class="icon-picker" id="icon-picker"></div>
            </div>

            <div class="modal-field">
                <label class="modal-label" for="modal-room-name">Nazwa pomieszczenia</label>
                <input class="modal-input" id="modal-room-name" type="text" placeholder="np. Salon, Sypialnia gÅ‚Ã³wnaâ€¦"
                    maxlength="40" />
            </div>

            <div class="modal-actions">
                <button class="modal-cancel" id="modal-cancel-btn">Anuluj</button>
                <button class="modal-confirm" id="modal-confirm-btn">âœ“ Dodaj</button>
            </div>
        </div>
    </div>

    <script src="ollama.js"></script>
    <script src="app.js"></script>
</body>

</html>